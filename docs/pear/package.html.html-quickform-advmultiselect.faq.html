<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>FAQ</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.html.html-quickform-advmultiselect.summary.question.html" title="About" />
  <link rel="prev" href="package.html.html-quickform-advmultiselect.summary.question.html" title="About" />
  <link rel="next" href="package.html.html-quickform-advmultiselect.whatsnew.html" title="News" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">FAQ</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.html.html-quickform-advmultiselect.summary.question.html" title="About">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.html.html-quickform-advmultiselect.whatsnew.html" title="News">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.html.html-quickform-advmultiselect.faq">
 
  <h1 class="refname">FAQ</h1>
  <div class="refnamediv">FAQ &ndash; Answers to most Frequently Asked Questions</div>

 

 <div class="refsection" id="package.html.html-quickform-advmultiselect.faq.content">
  <div class="info"><h1>HTML_QuickForm_advmultiselect FAQ</h1>
</div>

  <div class="qandaset"><ol class="qandaset_questions"><li><a href="#phd5461faec71019">
     What does it cost ?
    </a></li><li><a href="#phd5461faec71409">
     Do you offer support ?
    </a></li><li><a href="#phd5461faec717fb">
     I found a bug, what shall i do ?
    </a></li><li><a href="#phd5461faec71bed">
     What is HTML_QuickForm ?
    </a></li><li><a href="#phd5461faec71ff7">
     What is PEAR ?
    </a></li><li><a href="#phd5461faec723f3">
     May i use HTML_QuickForm_advmultiselect if my browser is no javascript compliant or if javascript is disabled ?
    </a></li><li><a href="#phd5461faec727e4">
     How to validate a HTML_QuickForm_advmultiselect element ?
    </a></li><li><a href="#phd5461faec72bf3">
     How to optimize javascript code usage on html generated page ?
    </a></li><li><a href="#phd5461faec72fe7">
     
      My Quickform advmultiselect element is not displayed on my browser window.
     
    </a></li><li><a href="#phd5461faec733db">
     My live counter is not updated with a single select list, when I click on checkboxes  ?
    </a></li><li><a href="#phd5461faec737cd">
     The selected list has one blank entry that you can move to available list
    </a></li></ol></div>
   <div class="qandadiv"><h1 class="title">General questions</h1>

   <dl class="qandaentry">
    <dt><strong>
     What does it cost ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      You can download and use it for free. But don&#039;t delete the copyright notice.
      You can read terms of the
      <a href="http://www.opensource.org/licenses/bsd-license.html" class="link external">license</a>.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     Do you offer support ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      YES if there is no answer in this Guide and if you are ready to share
      some informations such as : your configuration (platform Win *nix mac,
      PHP version, PEAR packages installed) and perharps your script.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     I found a bug, what shall i do ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      You can report it with the bug tracker at
      <a href="http://pear.php.net/package/HTML_QuickForm_advmultiselect/bugs" class="link external">PEAR</a>.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     What is HTML_QuickForm ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      <strong class="emphasis">HTML_QuickForm</strong> is a PEAR package that provides
      methods for creating, validating and processing HTML forms.
     </p>
     <p class="para">
      The purpose of
      <a href="http://www.midnighthax.com/quickform.php" class="link external">Keith Edmunds</a>
      tutorial is to give the new users of QuickForm an overview of its features and usage patterns.
      It describes a small subset of available functionality.
     </p>
     <p class="para">
      Don&#039;t forget to read also the PEAR Manual,
      <a href="http://pear.php.net/manual/en/package.html.html-quickform.php" class="link external">HTML_QuickForm</a>
      related part.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     What is PEAR ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      PEAR (an acronym for
      <strong class="emphasis">P</strong>HP
      <strong class="emphasis">E</strong>xtension and
      <strong class="emphasis">A</strong>pplication
      <strong class="emphasis">R</strong>epository)
      is a framework and distribution system for reusable PHP components.
     </p>
     <p class="para">
      Don&#039;t forget to read also the
      <a href="http://pear.php.net/manual/en" class="link external">PEAR Manual</a>
      and
      <a href="http://pear.php.net/manual/en/faq.php" class="link external">PEAR FAQ</a>.
     </p>
    </dd>
   </dl>
   </div>

   <div class="qandadiv"><h1 class="title">How to</h1>

   <dl class="qandaentry">
    <dt><strong>
     May i use HTML_QuickForm_advmultiselect if my browser is no javascript compliant or if javascript is disabled ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      The dual multi-select won&#039;t work, but you can display a single
      multi select box witch checkboxes. To do so, you have to remove
      <strong class="emphasis">{unselected}</strong> placeholder in the
      advmultiselect template element.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     How to validate a HTML_QuickForm_advmultiselect element ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      You must use the HTML_QuickForm
      <a href="http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addgrouprule.php" class="link external">
       addGroupRule()
      </a> method rather than HTML_QuickForm
      <a href="http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addrule.php" class="link external">
       addRule()
      </a> method.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     How to optimize javascript code usage on html generated page ?
    </strong></dt>
    <dd class="answer">
     <blockquote class="caution">
      <p class="simpara">
       Following answers can be applied only for HTML_QuickForm_advmultiselect version 1.3.0 or better.
      </p>
     </blockquote>

     <p class="para">
      Use only once reference of javascript source code. If you have more than one
      advmultiselect element on your html page, then keep only one call and remove others.
      </p><div class="phpcode">
       <code><span style="color: #000000">
&lt;script&nbsp;type="text/javascript"&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$ams1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getElementJs</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;keep&nbsp;one<br /><br />//echo&nbsp;$ams2-&gt;getElementJs();&nbsp;&nbsp;//&nbsp;remove&nbsp;others<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;/script&gt;</span>
</code>
      </div>
     
     <p class="para">
      Better solution is to use link to external resource and then reduce amount
      of javascript source code embedded.
      Add line of code below between &lt;head&gt; tags of your generated page.
      </p><div class="htmlcode">
       <pre class="htmlcode">
&lt;script type=&quot;text/javascript&quot; src=&quot;qfamsHandler.js&quot;&gt;&lt;/script&gt;</pre>

      </div>
      <blockquote class="note">
       <p class="para">
        Fix path to javascript resource if necessary.
        <code class="filename">qfamsHandler.js</code> file can be found in
        PEAR/data/HTML_QuickForm_advmultiselect directory.
       </p>
      </blockquote>

     
     <p class="para">
      At least remove <code class="literal">{javascript}</code> placeholder if you use default
      template. You have to set this new one <code class="literal">$deftpl</code>,
      with code something like :
      </p><div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm/advmultiselect.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$form&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_QuickForm</span><span style="color: #007700">(</span><span style="color: #DD0000">'ams130'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;....<br /></span><span style="color: #0000BB">$ams&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'advmultiselect'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'cars'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$car_array</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$deftpl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'<br />&lt;table{class}&gt;<br />&lt;!--&nbsp;BEGIN&nbsp;label_2&nbsp;--&gt;&lt;tr&gt;&lt;th&gt;{label_2}&lt;/th&gt;&lt;!--&nbsp;END&nbsp;label_2&nbsp;--&gt;<br />&lt;!--&nbsp;BEGIN&nbsp;label_3&nbsp;--&gt;&lt;th&gt;&amp;nbsp;&lt;/th&gt;&lt;th&gt;{label_3}&lt;/th&gt;&lt;/tr&gt;&lt;!--&nbsp;END&nbsp;label_3&nbsp;--&gt;<br />&lt;tr&gt;<br />&nbsp;&nbsp;&lt;td&nbsp;valign="top"&gt;{unselected}&lt;/td&gt;<br />&nbsp;&nbsp;&lt;td&nbsp;align="center"&gt;{add}{remove}&lt;/td&gt;<br />&nbsp;&nbsp;&lt;td&nbsp;valign="top"&gt;{selected}&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;<br />'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$ams</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setElementTemplate</span><span style="color: #007700">(</span><span style="color: #0000BB">$deftpl</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//...<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
      </div>
     
    </dd>
   </dl>
   </div>

   <div class="qandadiv"><h1 class="title">Troubleshooting guide</h1>

   <dl class="qandaentry">
    <dt><strong>
     
      My Quickform advmultiselect element is not displayed on my browser window.
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      You should have forgotten to add package ressource itself. This operation is mandatory
      for all external Quickform elements and not necessary for internal elements such as
      &quot;radio&quot;, &quot;checkbox&quot;, &quot;text&quot;, &quot;button&quot; ...
     </p>
     <p class="para">
      </p><div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm/advmultiselect.php'</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&lt;--&nbsp;DO&nbsp;NOT&nbsp;forget&nbsp;it<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
      </div>
     
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     My live counter is not updated with a single select list, when I click on checkboxes  ?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      With HTML_QuickForm_advmultiselect version 1.3.0 or better you need to add a chunk of javascript code
      to initialize onclick event handler of each checkboxes.
      </p><div class="htmlcode">
       <pre class="htmlcode">
&lt;script type=&quot;text/javascript&quot; src=&quot;qfamsHandler.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
window.qfamsName = new Array();
window.qfamsName[0] = &#039;cars&#039;;
window.qfamsName[1] = &#039;fruit&#039;;
window.addEventListener(&#039;load&#039;, qfamsInit, false);
&lt;/script&gt;</pre>

      </div>
      <p><code class="literal">window.qfamsName</code> is an array what identify each advmultiselect element used
      on your html page.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry">
    <dt><strong>
     The selected list has one blank entry that you can move to available list
    </strong></dt>
    <dd class="answer">
     <p class="para">
      This problem comes when you set the selected list (see HTML_QuickForm::setDefaults method)
      with a wrong data array.
     </p>
     <p class="para">
      Remember that the available list contains all datas (selected and unselected values).
      This list is an associative array of &quot;key-code&quot; =&gt; &quot;display-value&quot;.
      While selected list is only an array of &quot;key-code&quot;.
     </p>
     <p class="para">
      Suppose we have to retrieve information from a database (with PEAR::DB), and have
      a simple table for holding user info.
      This SQL statement creates a table usable under the default database scheme using MySQL:
      </p><div class="sqlcode"><pre class="sqlcode">CREATE TABLE user (
   userid VARCHAR(5) NOT NULL,
   gid INT NOT NULL,
   affect INT NOT NULL,
   lastname VARCHAR(50)NOT NULL,
   firstname VARCHAR(50) NOT NULL,
   PRIMARY KEY (userid)
);</pre>
</div><p>
      with values :
      </p><div class="sqlcode"><pre class="sqlcode">INSERT INTO user VALUES (&#039;MJ001&#039;, 1, 0, &#039;Martin&#039;, &#039;Jansen&#039;);
INSERT INTO user VALUES (&#039;BG001&#039;, 1, 1, &#039;Greg&#039;, &#039;Beaver&#039;);
INSERT INTO user VALUES (&#039;CD001&#039;, 1, 0, &#039;Daniel&#039;, &#039;Convissor&#039;);
INSERT INTO user VALUES (&#039;LL001&#039;, 2, 1, &#039;Laurent&#039;, &#039;Laville&#039;);</pre>
</div><p>
      Column <em class="emphasis">gid</em> identify a user group, while <em class="emphasis">userid</em>
      identify a single and unique user.
     </p>
     <p class="para">
      We will initialize AVAILABLE list (on left side if default template) by a
      db query something like that:
      </p><div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$queryAll&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;userid,&nbsp;CONCAT(lastname,&nbsp;"&nbsp;",&nbsp;firstname)&nbsp;AS&nbsp;useridentity&nbsp;'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'FROM&nbsp;user&nbsp;WHERE&nbsp;gid&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
      </div><p>
      and get this array:
      </p><div class="programlisting"><pre class="programlisting">Array
(
    [MJ001] =&gt; Jansen Martin
    [BG001] =&gt; Beaver Greg
    [CD001] =&gt; Convissor Daniel
)</pre>
</div>
     
     <p class="para">
      We will initialize SELECTED list (on right side if default template) by a
      db query something like that:
      </p><div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Once&nbsp;you&nbsp;have&nbsp;a&nbsp;valid&nbsp;DataBase&nbsp;object&nbsp;named&nbsp;$db&nbsp;...<br /><br /></span><span style="color: #0000BB">$querySel&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;userid&nbsp;FROM&nbsp;user&nbsp;WHERE&nbsp;gid&nbsp;=&nbsp;1&nbsp;AND&nbsp;affect&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$affected_user&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCol</span><span style="color: #007700">(</span><span style="color: #0000BB">$querySel</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
      </div><p>
      and get this array:
      </p><div class="programlisting"><pre class="programlisting">Array
(
    [0] =&gt; BG001
)</pre>
</div>
      <blockquote class="caution">
       <p class="simpara">
        Remember that only a key-code array is necessary, other data will make blank line
        into select box.
       </p>
      </blockquote>

     
     <p class="para">
      Remains stuff is basic, create the QFAMS element, and load options (available and selected)
      with the <code class="methodname">load()</code> method.
      </p><div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm/advmultiselect.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$form&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_QuickForm</span><span style="color: #007700">(</span><span style="color: #DD0000">'amsDB'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Once&nbsp;you&nbsp;have&nbsp;a&nbsp;valid&nbsp;QuickForm&nbsp;advmultiselect&nbsp;object&nbsp;named&nbsp;$ams&nbsp;in&nbsp;a&nbsp;QuickForm&nbsp;named&nbsp;$form&nbsp;...<br /><br /></span><span style="color: #0000BB">$ams&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'advmultiselect'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'user'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'Users:'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Available'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Affected'</span><span style="color: #007700">),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;labels<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;datas:&nbsp;"key-code"&nbsp;=&gt;&nbsp;"display-value"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">array(</span><span style="color: #DD0000">'style'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'width:200px;'</span><span style="color: #007700">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;custom&nbsp;layout<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$ams</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$queryAll</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'useridentity'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$affected_user</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
      </div>
      <blockquote class="tip">
       <p class="para">
        You may use the <code class="methodname">load()</code> method to set options
        from :
        </p><div class="phpcode">
         <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;...<br /><br />//&nbsp;1.&nbsp;a&nbsp;php&nbsp;array<br /></span><span style="color: #0000BB">$all_user&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'MJ001'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Martin&nbsp;Jansen'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'BG001'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Greg&nbsp;Beaver'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CD001'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Daniel&nbsp;Convissor'<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$affected_user&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'BG001'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$ams</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$all_user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$affected_user</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;queries&nbsp;to&nbsp;get&nbsp;data<br /></span><span style="color: #0000BB">$queryAll&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;userid,&nbsp;CONCAT(lastname,&nbsp;"&nbsp;",&nbsp;firstname)&nbsp;AS&nbsp;useridentity&nbsp;'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'FROM&nbsp;user&nbsp;WHERE&nbsp;gid&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$querySel&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;userid&nbsp;FROM&nbsp;user&nbsp;WHERE&nbsp;gid&nbsp;=&nbsp;1&nbsp;AND&nbsp;affect&nbsp;=&nbsp;1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$affected_user&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCol</span><span style="color: #007700">(</span><span style="color: #0000BB">$querySel</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;2.&nbsp;a&nbsp;db&nbsp;result<br /></span><span style="color: #0000BB">$all_user&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$queryAll</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$ams</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$all_user</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'useridentity'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$affected_user</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;3.&nbsp;a&nbsp;db&nbsp;query<br /></span><span style="color: #0000BB">$ams</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$queryAll</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'useridentity'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'userid'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$affected_user</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
        </div>
       
      </blockquote>

      <blockquote class="note">
       <span class="simpara">
        This example is available in bundle (see examples/qfams_basic_2.php)
       </span>
      </blockquote>

     
    </dd>
   </dl>

   </div>
  

 </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.html.html-quickform-advmultiselect.summary.question.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.html.html-quickform-advmultiselect.summary.question.html">About</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.html.html-quickform-advmultiselect.whatsnew.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">About</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">News</td>
  </tr>
 </table>
</div>
</body></html>
