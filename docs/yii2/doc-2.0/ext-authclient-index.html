<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/4d283d80/css/bootstrap.css" rel="stylesheet">
<link href="./assets/cd4fa704/style.css" rel="stylesheet">
<script src="./assets/c27ff113/jquery.js"></script>
<script src="./assets/4d283d80/js/bootstrap.js"></script>
<script src="./assets/f4e4faab/jssearch.js"></script>    <title>Yii Framework 2.0 API Documentation</title>
</head>
<body>

<div class="wrap">
    <nav id="w13692" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w13692-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Yii Framework 2.0 API Documentation</a></div><div id="w13692-collapse" class="collapse navbar-collapse"><ul id="w13693" class="navbar-nav nav"><li><a href="./index.html">Class reference</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Extensions <b class="caret"></b></a><ul id="w13694" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-codeception-index.html" tabindex="-1">codeception</a></li>
<li><a href="./ext-composer-index.html" tabindex="-1">composer</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-3">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-13688" data-toggle="collapse" data-parent="#navigation">yii\authclient <b class="caret"></b></a><div id="navigation-13688" class="submenu panel-collapse collapse"><a class="list-group-item" href="./yii-authclient-authaction.html">AuthAction</a>
<a class="list-group-item" href="./yii-authclient-baseclient.html">BaseClient</a>
<a class="list-group-item" href="./yii-authclient-baseoauth.html">BaseOAuth</a>
<a class="list-group-item" href="./yii-authclient-clientinterface.html">ClientInterface</a>
<a class="list-group-item" href="./yii-authclient-collection.html">Collection</a>
<a class="list-group-item" href="./yii-authclient-invalidresponseexception.html">InvalidResponseException</a>
<a class="list-group-item" href="./yii-authclient-oauth1.html">OAuth1</a>
<a class="list-group-item" href="./yii-authclient-oauth2.html">OAuth2</a>
<a class="list-group-item" href="./yii-authclient-oauthtoken.html">OAuthToken</a>
<a class="list-group-item" href="./yii-authclient-openid.html">OpenId</a></div>
<a class="list-group-item" href="#navigation-13689" data-toggle="collapse" data-parent="#navigation">yii\authclient\clients <b class="caret"></b></a><div id="navigation-13689" class="submenu panel-collapse collapse"><a class="list-group-item" href="./yii-authclient-clients-facebook.html">Facebook</a>
<a class="list-group-item" href="./yii-authclient-clients-github.html">GitHub</a>
<a class="list-group-item" href="./yii-authclient-clients-googleoauth.html">GoogleOAuth</a>
<a class="list-group-item" href="./yii-authclient-clients-googleopenid.html">GoogleOpenId</a>
<a class="list-group-item" href="./yii-authclient-clients-linkedin.html">LinkedIn</a>
<a class="list-group-item" href="./yii-authclient-clients-live.html">Live</a>
<a class="list-group-item" href="./yii-authclient-clients-twitter.html">Twitter</a>
<a class="list-group-item" href="./yii-authclient-clients-vkontakte.html">VKontakte</a>
<a class="list-group-item" href="./yii-authclient-clients-yandexoauth.html">YandexOAuth</a>
<a class="list-group-item" href="./yii-authclient-clients-yandexopenid.html">YandexOpenId</a></div>
<a class="list-group-item" href="#navigation-13690" data-toggle="collapse" data-parent="#navigation">yii\authclient\signature <b class="caret"></b></a><div id="navigation-13690" class="submenu panel-collapse collapse"><a class="list-group-item" href="./yii-authclient-signature-basemethod.html">BaseMethod</a>
<a class="list-group-item" href="./yii-authclient-signature-hmacsha1.html">HmacSha1</a>
<a class="list-group-item" href="./yii-authclient-signature-plaintext.html">PlainText</a>
<a class="list-group-item" href="./yii-authclient-signature-rsasha1.html">RsaSha1</a></div>
<a class="list-group-item" href="#navigation-13691" data-toggle="collapse" data-parent="#navigation">yii\authclient\widgets <b class="caret"></b></a><div id="navigation-13691" class="submenu panel-collapse collapse"><a class="list-group-item" href="./yii-authclient-widgets-authchoice.html">AuthChoice</a>
<a class="list-group-item" href="./yii-authclient-widgets-authchoiceasset.html">AuthChoiceAsset</a>
<a class="list-group-item" href="./yii-authclient-widgets-authchoicestyleasset.html">AuthChoiceStyleAsset</a></div></div>    </div>
    <div class="col-md-9 api-content" role="main">
        <h1>AuthClient Extension for Yii 2 <a href="#authclient-extension-for-yii-2" name="authclient-extension-for-yii-2" class="hashlink">&para;</a></h1><p>This extension adds <a href="http://openid.net/">OpenID</a>, <a href="http://oauth.net/">OAuth</a> and <a href="http://oauth.net/2/">OAuth2</a> consumers for the Yii framework 2.0.</p>
<h2>Installation <a href="#installation" name="installation" class="hashlink">&para;</a></h2><p>The preferred way to install this extension is through <a href="http://getcomposer.org/download/">composer</a>.</p>
<p>Either run</p>
<pre><code>php composer.phar require --prefer-dist yiisoft/yii2-authclient "*"
</code></pre>
<p>or add</p>
<pre><code class="language-json">"yiisoft/yii2-authclient": "*"
</code></pre>
<p>to the <code>require</code> section of your composer.json.</p>
<h2>Quick start <a href="#quick-start" name="quick-start" class="hashlink">&para;</a></h2><p>This extension provides the ability of the authentication via external credentials providers.
It covers OpenID, OAuth1 and OAuth2 protocols.</p>
<p>You need to setup auth client collection application component:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'authClientCollection'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\Collection'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clients'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'google'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\clients\GoogleOpenId'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'facebook'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\clients\Facebook'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clientId'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'facebook_client_id'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clientSecret'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'facebook_client_secret'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;]<br />&nbsp;&nbsp;&nbsp;&nbsp;...<br />]</span></code></pre>
<p>Then you need to add <a href="yii-authclient-authaction.html">yii\authclient\AuthAction</a> to some of your web controllers:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">SiteController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">actions</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'auth'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\AuthAction'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'successCallback'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'successCallback'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">successCallback</span><span style="color: #007700">(</span><span style="color: #0000BB">$client</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$attributes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUserAttributes</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;user&nbsp;login&nbsp;or&nbsp;signup&nbsp;comes&nbsp;here<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}</span></code></pre>
<p>You may use <a href="yii-authclient-widgets-authchoice.html">yii\authclient\widgets\AuthChoice</a> to compose auth client selection:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">&lt;?=&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">widgets</span><span style="color: #007700">\</span><span style="color: #0000BB">AuthChoice</span><span style="color: #007700">::</span><span style="color: #0000BB">widget</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'baseAuthUrl'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[</span><span style="color: #DD0000">'site/auth'</span><span style="color: #007700">]<br />])&nbsp;</span><span style="color: #0000BB">?&gt;</span></code></pre>
<h2>Base auth clients overview <a href="#base-auth-clients-overview" name="base-auth-clients-overview" class="hashlink">&para;</a></h2><p>This extension provides the base client class for each supported auth protocols:</p>
<ul>
<li><a href="yii-authclient-openid.html">yii\authclient\OpenId</a> supports <a href="http://openid.net/">OpenID</a></li>
<li><a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a> supports <a href="http://oauth.net/">OAuth 1/1.0a</a></li>
<li><a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a> supports <a href="http://oauth.net/2/">OAuth 2</a></li>
</ul>
<p>You may use these classes as they are to use external auth provider, or extend them
in order to create some particular provider oriented client.</p>
<p>Please, refer to the particular base client class documentation for its actual usage.</p>
<p>Although, all clients are different they shares same basic interface <a href="yii-authclient-clientinterface.html">yii\authclient\ClientInterface</a>,
which governs some common API.</p>
<p>Each client has some descriptive data, which can be used for different purposes:</p>
<ul>
<li>id - unique client id, which separates it from other clients, it could be used in URLs, logs etc.</li>
<li>name - external auth provider name, which this client is match too. Different auth clients
 can share the same name, if they refer to the same external auth provider.
 For example: clients for Google OpenID and Google OAuth have same name "google".
 This attribute can be used inside the database, CSS styles and so on.</li>
<li>title - user friendly name for the external auth provider, it is used to present auth client
 at the view layer.</li>
</ul>
<p>Each auth client has different auth flow, but all of them supports "getUserAttributes()" method,
which can be invoked if authentication was successful.
This method allows you to get information about external user account, such as id, email address,
full name, preferred language etc.
Defining list of attributes, which external auth provider should return, depends on client type:</p>
<ul>
<li><a href="yii-authclient-openid.html">yii\authclient\OpenId</a>: combination of "requiredAttributes" and "optionalAttributes"</li>
<li><a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a> and <a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a>: field "scope", note that different
 providers use different formats for the scope.</li>
</ul>
<p>Each auth client has "viewOptions" attribute. It is an array, which stores name-value pairs,
which serve to compose client representation in the view.
For example widget <a href="yii-authclient-widgets-authchoice.html">yii\authclient\widgets\AuthChoice</a> uses keys "popupWidth" and "popupHeight" to
determine the size of authentication popup window.</p>
<h2>External API usage <a href="#external-api-usage" name="external-api-usage" class="hashlink">&para;</a></h2><p>Both <a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a> and <a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a> provide method "api()", which
can be used to access external auth provider REST API. However this method is very basic and
it may be not enough to access full external API functionality. This method is mainly used to
fetch the external user account data.
To use API calls, you need to setup <a href="yii-authclient-baseoauth.html#$apiBaseUrl-detail">yii\authclient\BaseOAuth::$apiBaseUrl</a> according to the
API specification. Then you can call <a href="yii-authclient-baseoauth.html#api()-detail">yii\authclient\BaseOAuth::api()</a> method:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">OAuth2</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">OAuth2</span><span style="color: #007700">;<br />...<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">apiBaseUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.googleapis.com/oauth2/v1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$userInfo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">api</span><span style="color: #007700">(</span><span style="color: #DD0000">'userinfo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">);</span></code></pre>
<h2>Predefined auth clients <a href="#predefined-auth-clients" name="predefined-auth-clients" class="hashlink">&para;</a></h2><p>This extension provides the list of ready to use auth clients, which covers most
popular external authentication providers. These clients are located under "yii\authclient\clients"
namespace.</p>
<p>Following predefined auth clients are available:</p>
<ul>
<li><a href="yii-authclient-clients-facebook.html">yii\authclient\clients\Facebook</a> - <a href="https://www.facebook.com/">Facebook</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-github.html">yii\authclient\clients\GitHub</a> - <a href="https://github.com/">GitHub</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-googleoauth.html">yii\authclient\clients\GoogleOAuth</a> - <a href="https://www.google.com/">Google</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-googleopenid.html">yii\authclient\clients\GoogleOpenId</a> - <a href="https://www.google.com/">Google</a> OpenID client</li>
<li><a href="yii-authclient-clients-linkedin.html">yii\authclient\clients\LinkedIn</a> - <a href="http://www.linkedin.com/">LinkedIn</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-live.html">yii\authclient\clients\Live</a> - <a href="http://live.com/">Microsoft Live</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-twitter.html">yii\authclient\clients\Twitter</a> - <a href="https://twitter.com/">Twitter</a> OAuth1 client</li>
<li><a href="yii-authclient-clients-vkontakte.html">yii\authclient\clients\VKontakte</a> - <a href="http://vk.com/">VKontakte</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-yandexoauth.html">yii\authclient\clients\YandexOAuth</a> - <a href="http://www.yandex.ru/">Yandex</a> OAuth2 client</li>
<li><a href="yii-authclient-clients-yandexopenid.html">yii\authclient\clients\YandexOpenId</a> - <a href="http://www.yandex.ru/">Yandex</a> OpenID client</li>
</ul>
<p>Please, refer to the particular client class documentation for its actual usage.</p>
<h2>Customize auth clients <a href="#customize-auth-clients" name="customize-auth-clients" class="hashlink">&para;</a></h2><p>All predefined auth clients have a default configuration like <code>authUrl</code>, <code>apiBaseUrl</code> and so on.
However in some cases you may want to change these values in order to achieve some specific results.
For example: using <code>yii\authclient\clients\Facebook</code> you may want the auth window appear in popup display
mode, which is setup via <code>authUrl</code>:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #DD0000">'components'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'authClientCollection'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\Collection'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clients'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'facebook'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'class'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'yii\authclient\clients\Facebook'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Facebook&nbsp;login&nbsp;form&nbsp;will&nbsp;be&nbsp;displayed&nbsp;in&nbsp;'popup'&nbsp;mode<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'authUrl'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'https://www.facebook.com/dialog/oauth?display=popup'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clientId'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'facebook_client_id'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'clientSecret'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'facebook_client_secret'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />&nbsp;&nbsp;&nbsp;&nbsp;]<br />&nbsp;&nbsp;&nbsp;&nbsp;...<br />]</span></code></pre>
<h2>Creating your own auth clients <a href="#creating-your-own-auth-clients" name="creating-your-own-auth-clients" class="hashlink">&para;</a></h2><p>You may create your own auth client for any external auth provider, which supports
OpenId or OAuth protocol. To do so, first of all, you need to find out which protocol is
supported by the external auth provider, this will give you the name of the base class
for your extension:</p>
<ul>
<li>for OAuth 2 use <a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a></li>
<li>for OAuth 1/1.0a use <a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a></li>
<li>for OpenID use <a href="yii-authclient-openid.html">yii\authclient\OpenId</a></li>
</ul>
<p>At this stage you can determine auth client default name, title and view options, declaring
corresponding methods:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">OAuth2</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyAuthClient&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">OAuth2<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">defaultName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'my_auth_client'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">defaultTitle</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'My&nbsp;Auth&nbsp;Client'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">defaultViewOptions</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'popupWidth'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">800</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'popupHeight'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">500</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>Depending on actual base class, you will need to redeclare different fields and methods.</p>
<p>1) <a href="yii-authclient-openid.html">yii\authclient\OpenId</a></p>
<p>All you need is specify auth URL, by redeclaring "authUrl" field.
You may also setup default required and/or optional attributes.
For example:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">OpenId</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyAuthClient&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">OpenId<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$authUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/openid/'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$requiredAttributes&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'contact/email'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$optionalAttributes&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'namePerson/first'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'namePerson/last'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;];<br />}</span></code></pre>
<p>2) <a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a></p>
<p>You will need to specify:</p>
<ul>
<li>authorize URL - redeclare "authUrl" field</li>
<li>token request URL - redeclare "tokenUrl" field</li>
<li>API base URL - redeclare "apiBaseUrl" field</li>
<li>User attribute fetching strategy - redeclare "initUserAttributes" method</li>
</ul>
<p>For example:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">OAuth2</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyAuthClient&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">OAuth2<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$authUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/oauth2/auth'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$tokenUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/oauth2/token'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$apiBaseUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/apis/oauth2/v1'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">initUserAttributes</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">api</span><span style="color: #007700">(</span><span style="color: #DD0000">'userinfo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>You may also specify default auth scopes.</p>
<p>Note: some OAuth providers may not follow OAuth standards clearly, introducing
some differences, which may require additional efforts to apply.</p>
<p>3) <a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a></p>
<p>You will need to specify:</p>
<ul>
<li>authorize URL - redeclare "authUrl" field</li>
<li>request token URL - redeclare "requestTokenUrl" field</li>
<li>access token URL - redeclare "accessTokenUrl" field</li>
<li>API base URL - redeclare "apiBaseUrl" field</li>
<li>User attribute fetching strategy - redeclare "initUserAttributes" method</li>
</ul>
<p>For example:</p>
<pre><code class="language-php"><span style="color: #0000BB"></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">yii</span><span style="color: #007700">\</span><span style="color: #0000BB">authclient</span><span style="color: #007700">\</span><span style="color: #0000BB">OAuth1</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">MyAuthClient&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">OAuth1<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$authUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/oauth/auth'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$requestTokenUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/oauth/request_token'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$accessTokenUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/oauth/access_token'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$apiBaseUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'https://www.my.com/apis/oauth/v1'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">initUserAttributes</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">api</span><span style="color: #007700">(</span><span style="color: #DD0000">'userinfo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span></code></pre>
<p>You may also specify default auth scopes.</p>
<p>Note: some OAuth providers may not follow OAuth standards clearly, introducing
some differences, which may require additional efforts to apply.</p>
<h1>Class Reference</h1>

<table class="summaryTable docIndex table table-bordered table-striped table-hover">
    <colgroup>
        <col class="col-package" />
        <col class="col-class" />
        <col class="col-description" />
    </colgroup>
    <tr>
        <th>Class</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><a href="yii-authclient-authaction.html">yii\authclient\AuthAction</a></td>
        <td>AuthAction performs authentication via different auth clients.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-baseclient.html">yii\authclient\BaseClient</a></td>
        <td>BaseClient is a base Auth Client class.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-baseoauth.html">yii\authclient\BaseOAuth</a></td>
        <td>BaseOAuth is a base class for the OAuth clients.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clientinterface.html">yii\authclient\ClientInterface</a></td>
        <td>ClientInterface declares basic interface all Auth clients should follow.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-collection.html">yii\authclient\Collection</a></td>
        <td>Collection is a storage for all auth clients in the application.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-invalidresponseexception.html">yii\authclient\InvalidResponseException</a></td>
        <td>InvalidResponseException represents an exception caused by invalid remote server response.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-oauth1.html">yii\authclient\OAuth1</a></td>
        <td>OAuth1 serves as a client for the OAuth 1/1.0a flow.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-oauth2.html">yii\authclient\OAuth2</a></td>
        <td>OAuth2 serves as a client for the OAuth 2 flow.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-oauthtoken.html">yii\authclient\OAuthToken</a></td>
        <td>Token represents OAuth token.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-openid.html">yii\authclient\OpenId</a></td>
        <td>OpenId provides a simple interface for OpenID (1.1 and 2.0) authentication.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-facebook.html">yii\authclient\clients\Facebook</a></td>
        <td>Facebook allows authentication via Facebook OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-github.html">yii\authclient\clients\GitHub</a></td>
        <td>GitHub allows authentication via GitHub OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-googleoauth.html">yii\authclient\clients\GoogleOAuth</a></td>
        <td>GoogleOAuth allows authentication via Google OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-googleopenid.html">yii\authclient\clients\GoogleOpenId</a></td>
        <td>GoogleOpenId allows authentication via Google OpenId.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-linkedin.html">yii\authclient\clients\LinkedIn</a></td>
        <td>LinkedIn allows authentication via LinkedIn OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-live.html">yii\authclient\clients\Live</a></td>
        <td>Live allows authentication via Microsoft Live OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-twitter.html">yii\authclient\clients\Twitter</a></td>
        <td>Twitter allows authentication via Twitter OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-vkontakte.html">yii\authclient\clients\VKontakte</a></td>
        <td>VKontakte allows authentication via VKontakte OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-yandexoauth.html">yii\authclient\clients\YandexOAuth</a></td>
        <td>YandexOAuth allows authentication via Yandex OAuth.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-clients-yandexopenid.html">yii\authclient\clients\YandexOpenId</a></td>
        <td>YandexOpenId allows authentication via Yandex OpenId.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-signature-basemethod.html">yii\authclient\signature\BaseMethod</a></td>
        <td>BaseMethod is a base class for the OAuth signature methods.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-signature-hmacsha1.html">yii\authclient\signature\HmacSha1</a></td>
        <td>HmacSha1 represents 'HMAC-SHA1' signature method.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-signature-plaintext.html">yii\authclient\signature\PlainText</a></td>
        <td>PlainText represents 'PLAINTEXT' signature method.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-signature-rsasha1.html">yii\authclient\signature\RsaSha1</a></td>
        <td>RsaSha1 represents 'RSA-SHA1' signature method.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-widgets-authchoice.html">yii\authclient\widgets\AuthChoice</a></td>
        <td>AuthChoice prints buttons for authentication via various auth clients.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-widgets-authchoiceasset.html">yii\authclient\widgets\AuthChoiceAsset</a></td>
        <td>AuthChoiceAsset is an asset bundle for <a href="yii-authclient-widgets-authchoice.html">yii\authclient\widgets\AuthChoice</a> widget.</td>
    </tr>
    <tr>
        <td><a href="yii-authclient-widgets-authchoicestyleasset.html">yii\authclient\widgets\AuthChoiceStyleAsset</a></td>
        <td>AuthChoiceAsset is an asset bundle for <a href="yii-authclient-widgets-authchoice.html">yii\authclient\widgets\AuthChoice</a> widget.</td>
    </tr>
</table>
    </div>
</div>

<script type="text/javascript">
    /*<![CDATA[*/
    $("a.toggle").on('click', function () {
        var $this = $(this);
        if ($this.hasClass('properties-hidden')) {
            $this.text($this.text().replace(/Show/,'Hide'));
            $this.parents(".summary").find(".inherited").show();
            $this.removeClass('properties-hidden');
        } else {
            $this.text($this.text().replace(/Hide/,'Show'));
            $this.parents(".summary").find(".inherited").hide();
            $this.addClass('properties-hidden');
        }

        return false;
    });
    /*
     $(".sourceCode a.show").toggle(function () {
     $(this).text($(this).text().replace(/show/,'hide'));
     $(this).parents(".sourceCode").find("div.code").show();
     },function () {
     $(this).text($(this).text().replace(/hide/,'show'));
     $(this).parents(".sourceCode").find("div.code").hide();
     });
     $("a.sourceLink").click(function () {
     $(this).attr('target','_blank');
     });
     */
    /*]]>*/
</script>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Thu, 08 Jan 2015 23:11:20 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) shiftWindow();
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// focus the search field
searchBox.focus();

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['site._setAccount', 'UA-5843896-1']);
_gaq.push(['site._trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>
